
<div class="container" style="width: calc(70%);">
	<h1 class="page-header" style="font-size:35px;"><span class="fa fa-list"></span> All Containers</h1>
  <table class="table table-hover table-responsive">
    <thead>
      <tr>
        <th class="text-center">Serialno</th>
        <th class="text-center">Capacity</th>
        <th class="text-center">Price</th>
        <th class="text-center">Total power</th>
        <th class="text-center">Show</th>
        <th class="text-center">Edit</th>
      </tr>
    </thead>
	<tbody>
        <% i=0 %>
		<% @containers.each do |container| %>
		    <tr >
		      <td class="text-center"><%= container.serialNo %></td>
		      <td class="text-center"><%= container.capacity %></td>
		      <td class="text-center"><%= container.price %></td>
		      <td class="text-center"><%= container.total_power %></td>
		      <td class="text-center"><span class="fa fa-eye"></span><%= link_to 'Show', container, class:"btn btn-primary" %></td>
		      <td class="text-center"><span class="fa fa-edit"></span><%= link_to 'Edit', edit_container_path(container), class:"btn btn-default" %></td>
		      <td data-toggle="collapse"  data-target=".demo<%=i%>" class="text-center,accordion-toggle">
                 <button type="button" class="btn btn-primary">  
                  	<span class="myglyphicon,glyphicon glyphicon-plus"></span> 
                  </button>
              </td>            
		    </tr>
            <tr>
               <td  colspan="12" style="border:0px">
	                <table class="table table-hover table-responsive">
					  <thead >
					    <tr class="collapse , demo<%=i%>">
							<td> production_date </td>
							<td>height </td>
							<td>width</td>
							<td>celltype</td>
							<td> subtype</td>
							<td>price</td>
							<td>serialNo</td>
							<td>cells no.</td>  
							<td> price</td>     
							<td>power</td>  
				        </tr>
					  </thead> 
	                  <tbody>
					     <% container.solar_panels.each do |solar_panel| %>
						     <tr class="collapse , demo<%=i%>"> 	
			                    <td><%= solar_panel.production_date %></td>
			                    <td ><%= solar_panel.height %></td>
			                    <td ><%= solar_panel.width %></td>
								<td ><%= solar_panel.power %></td>
								<td ><%= solar_panel.celltype %> </td>
								<td ><%= solar_panel.subtype%> </td>
								<td > <%= solar_panel.price %> </td>
								<td ><%= solar_panel.serialNo%> </td>                
								<td > <%= solar_panel.cellno %></td> 
							  	<td ><%= solar_panel.power %></td>
						     </tr>  
				    	<% end %> 
	                   </tbody> 
	                </table>
               </td>
           </tr>
		   <% i=i+1 %>    
           <% end %>
         
	</tbody>
   </table>
</div>  

<%= will_paginate @containers, renderer: BootstrapPagination::Rails %>
<br>
<script>
$('.collapse').on('shown.bs.collapse', function () {
   $(".myglyphicon").removeClass("glyphicon glyphicon-plus").addClass("glyphicon glyphicon-minus");

});

$('.collapse').on('hidden.bs.collapse', function () {
   $(".myglyphicon").removeClass("glyphicon glyphicon-minus").addClass("glyphicon glyphicon-plus");
});
</script>

 <section class="register" >  
    <div class="reg_section">

<div class="container" style="width: calc(80%);">

  <h1 class="page-header" style="font-size:30px; color:#2A4E6E" > <span class="glyphicon glyphicon-th-list"></span> All Panels</h1>

   <div id="Search_by" style= "margin-left:500px;width:600px" >
    <%= form_tag(solar_panels_path, :method => "get", id: "search-form" , :class => "navbar-form pull-left") do %>
    	  <%= select_tag(:searching, options_for_select([['Search_by_power', 1], ['Search_by_serialno', 2]]),onchange: "searchciteria()" ) %>
        <%= text_field_tag :search, params[:search], placeholder: "Search Panels" %>
        <%= hidden_field_tag :searchciteria, "power" %>
        <%= submit_tag "Search", :name => nil, :class => 'btn btn-link' %>
    <% end %>
  <select class="target" >
	  <option value="all">all</option>
	  <option value="sold">sold</option>
	  <option value="unsold">unsold</option>
	  
  </select>  
 
  


  </div>
 
 


  
 

  <table   class="table table-hover table-responsive mytable">
    <thead>
      <tr class ="sold unsold">
      	  <th class="text-center" >Serialno</th>
      	  <th class="text-center" >Type</th>
      	  <th class="text-center" >Subtype</th>
      	  <th class="text-center" >Container_Serial_No.</th>
      	  <th class="text-center" >Power</th>
      	  <th class="text-center" >Price</th>
      	  <th class="text-center" >Show</th>

      </tr>
    </thead>
     
    <tbody  >
      
       <% @solar_panels.each do |solar_panel| %>
       <% if solar_panel.sold_panel_id.nil? %>
        <tr class="unsold " >
       <% else %>
         <tr class="sold" >  
       <% end %>  

           <td class="text-center" ><%= solar_panel.serialNo %></td>
           <td class="text-center" ><%= solar_panel.celltype %></td>
           <td class="text-center" ><%= solar_panel.subtype %></td>
           <td class="text-center" ><%= solar_panel.container.serialNo %></td>
           <td class="text-center" ><%= solar_panel.power %></td>
           <td class="text-center" ><%= solar_panel.price %></td>
           <td class="text-center" ><%= link_to 'Show', solar_panel, class:"btn btn-info"  %></td>
       
              </tr>
            <% end %>
          </tbody>
        </table>
    </div>
  </section> 

</div> 
<script>
var rows = $('table.mytable tr');


$( ".target" ).change(function() {
if ($(".target").val()=="unsold")
{
    var unsold = rows.filter('.unsold').show();
    rows.not( unsold ).hide();
}
else if ($(".target").val()=="sold")
{
var sold = rows.filter('.sold').show();
    rows.not( sold ).hide();
}
else
{
rows.show();
}
});
</script>
